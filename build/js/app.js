async function obtenerPrecios(){try{let e=await fetch("https://www.dolarsi.com/api/api.php?type=valoresprincipales");return await e.json()}catch(e){console.log(e)}}async function procesadarDatos(){(await obtenerPrecios()).forEach((e,o)=>{let t=document.createElement("DIV"),a=document.createElement("H2"),c=document.createElement("DIV"),n=document.createElement("P"),r=document.createElement("P"),d=e.casa.nombre;a.classList.add("bloque__titulo"),a.textContent=d;let s=formatearPrecio(e.casa.compra),l=formatearPrecio(e.casa.venta);d=d.replace(/ /g,""),r.id=d.toLowerCase(),n.innerHTML=`Compra <span class="bloque__precio"> ${s}</span>`,r.innerHTML=`Venta <span class="bloque__precio"> ${l} </span>`,c.classList.add("bloque__contenido"),c.appendChild(n),c.appendChild(r),t.classList.add("bloque"),t.appendChild(a),t.appendChild(c),document.querySelector(".bloques").appendChild(t)}),console.log("datos cargados")}function formatearPrecio(e){return parseFloat(e).toLocaleString("es-AR",{style:"currency",currency:"ARS"})}function darkMode(){window.matchMedia("(prefers-color-scheme:dark)").matches&&document.querySelector("body").classList.add("darkmode");document.querySelector(".darkmode__icon").addEventListener("click",()=>{document.querySelector("body").classList.contains("darkmode");document.querySelector("body").classList.toggle("darkmode")})}function calculadora(){const e=document.querySelector(".btn-calculadora"),o=[];e.addEventListener("click",()=>{const e=parseInt(document.querySelector("#moneda").value),t=parseInt(document.querySelector("#convertidorOpciones").selectedIndex),a=parseInt(document.querySelector("#dolarblue").textContent.split("$")[1]);if(0===e&&o.push("Debes introducir una cantidad"),0===t&&o.push("Selecciona una opcion valida"),0===o.length){const o=document.querySelector("#resultado_total");let c=0;1===t?(c=e/a,o.textContent=`${e} Pesos son ${formatearPrecio(c)} Dolares`):(c=e*a,o.textContent=`${e} Dolares son ${formatearPrecio(c)} Pesos`);const n=document.querySelector(".resultado");n.style.display="block",eliminarResultado=()=>{n.style.display="none",document.querySelector("#moneda").value="";document.querySelector("#convertidorOpciones").options[0].selected=!0},setTimeout(eliminarResultado,5e3)}})}document.addEventListener("DOMContentLoaded",()=>{procesadarDatos(),darkMode(),calculadora()});
//# sourceMappingURL=app.js.map
