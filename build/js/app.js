async function obtenerPrecios(){try{let e=await fetch("https://www.dolarsi.com/api/api.php?type=valoresprincipales");return await e.json()}catch(e){console.log(e)}}async function procesadarDatos(){(await obtenerPrecios()).forEach((e,o)=>{let t=document.createElement("DIV"),n=document.createElement("H2"),r=document.createElement("DIV"),a=document.createElement("P"),c=document.createElement("P"),l=e.casa.nombre;n.classList.add("bloque__titulo"),n.textContent=l;let d=formatearPrecio(e.casa.compra),s=formatearPrecio(e.casa.venta);l=l.replace(/ /g,""),c.id=l.toLowerCase(),a.innerHTML=`Compra <span class="bloque__precio"> ${d}</span>`,c.innerHTML=`Venta <span class="bloque__precio"> ${s} </span>`,r.classList.add("bloque__contenido"),r.appendChild(a),r.appendChild(c),t.classList.add("bloque"),t.appendChild(n),t.appendChild(r),document.querySelector(".bloques").appendChild(t)}),console.log("datos cargados")}function formatearPrecio(e){return parseFloat(e).toLocaleString("es-AR",{style:"currency",currency:"ARS"})}function darkMode(){window.matchMedia("(prefers-color-scheme:dark)").matches&&document.querySelector("body").classList.add("darkmode");document.querySelector(".darkmode__icon").addEventListener("click",()=>{document.querySelector("body").classList.contains("darkmode");document.querySelector("body").classList.toggle("darkmode")})}function calculadora(){document.querySelector(".btn-calculadora").addEventListener("click",()=>{const e=[];let o=document.querySelector("#moneda").value;""===o?e.push("Debes introducir una cantidad"):(o=parseInt(document.querySelector("#moneda").value),o<=0&&e.push("Debes introducir un cantidad mayor a 0"));const t=parseInt(document.querySelector("#convertidorOpciones").selectedIndex),n=parseInt(document.querySelector("#dolarblue").textContent.split("$")[1]);if(0===t&&e.push("Selecciona una opcion valida"),0===e.length){const e=document.querySelector("#resultado_total");let r=0;1===t?(r=o/n,e.textContent=`${o} Pesos son ${formatearPrecio(r)} Dolares`):(r=o*n,e.textContent=`${o} Dolares son ${formatearPrecio(r)} Pesos`);const a=document.querySelector(".resultado");a.style.display="block",eliminarResultado=()=>{a.style.display="none",document.querySelector("#moneda").value="";document.querySelector("#convertidorOpciones").options[0].selected=!0},setTimeout(eliminarResultado,5e3)}else{const o=document.querySelector(".contenedorErrores");console.log(e.length);for(let t=0;t<e.length;t++){let n=document.createElement("P");n.classList.add("error"),n.textContent=e[t],o.appendChild(n)}o.style.display="block",eliminarErrores=()=>{document.querySelector("#moneda").value="";document.querySelector("#convertidorOpciones").options[0].selected=!0,o.innerHTML="",o.style.display="none"},setTimeout(eliminarErrores,6e3)}})}document.addEventListener("DOMContentLoaded",()=>{procesadarDatos(),darkMode(),calculadora()});
//# sourceMappingURL=app.js.map
